<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>你好 — 我的第一个网页</title>
  <meta name="description" content="这是一个示例网页，演示了简单的交互和无障碍增强。" />
  <style>
    :root{
      --bg:#f6f8fb;
      --card:#ffffff;
      --accent:#2563eb;
      --muted:#6b7280;
      --radius:12px;
      --shadow: 0 6px 18px rgba(15,23,42,0.08);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background:linear-gradient(180deg,var(--bg),#fff);
      color:#0f172a;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:2rem;
    }
    .card{
      width:100%;
      max-width:720px;
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:2rem;
    }
    header h1{
      margin:0 0 .25rem 0;
      font-size:1.6rem;
    }
    header p{
      margin:0 0 1.25rem 0;
      color:var(--muted);
    }
    .controls{
      display:flex;
      gap:.75rem;
      flex-wrap:wrap;
      margin:1rem 0;
    }
    button{
      appearance:none;
      border:0;
      background:var(--accent);
      color:white;
      padding:.6rem .9rem;
      border-radius:8px;
      font-weight:600;
      cursor:pointer;
      box-shadow:0 2px 6px rgba(37,99,235,0.18);
    }
    button.secondary{
      background:#eef2ff;
      color:var(--accent);
      box-shadow:none;
      border:1px solid rgba(37,99,235,0.08);
    }
    button:focus{
      outline:3px solid rgba(37,99,235,0.18);
      outline-offset:2px;
    }
    footer{
      margin-top:1.25rem;
      color:var(--muted);
      font-size:.9rem;
    }
    /* modal */
    .modal-backdrop{
      position:fixed;
      inset:0;
      background:rgba(2,6,23,0.45);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:1rem;
      z-index:999;
    }
    .modal{
      background:var(--card);
      border-radius:12px;
      padding:1.25rem;
      width:100%;
      max-width:420px;
      box-shadow:0 10px 30px rgba(2,6,23,0.25);
    }
    .modal h2{margin:0 0 .5rem 0}
    .modal p{margin:.25rem 0 0 0; color:var(--muted)}
    .modal .actions{display:flex; gap:.5rem; justify-content:flex-end; margin-top:1rem}
    .sr-only{
      position:absolute !important;
      height:1px;width:1px;
      overflow:hidden;
      clip:rect(1px,1px,1px,1px);
      white-space:nowrap;
    }
    @media (prefers-reduced-motion: reduce){
      *{transition:none !important}
    }
  </style>
</head>
<body>
  <main class="card" id="page">
    <header>
      <h1 id="title">你好！这是我的第一个网页</h1>
      <p id="subtitle">我是用代码把它写出来的。</p>
    </header>

    <section aria-labelledby="interactionHeading">
      <h2 id="interactionHeading" class="sr-only">交互区</h2>
      <div class="controls">
        <button id="notifyBtn">点我试试</button>
        <button id="langBtn" class="secondary" aria-pressed="false" title="切换语言">EN</button>
      </div>
      <div id="live" aria-live="polite" class="sr-only"></div>
    </section>

    <footer>
      <p>示例页面 · 无障碍增强 · 响应式布局</p>
    </footer>
  </main>

  <!-- 模态：JS 可增强的替代 alert -->
  <div id="modalBackdrop" class="modal-backdrop" hidden aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" aria-describedby="modalDesc">
      <h2 id="modalTitle">提示</h2>
      <p id="modalDesc">你点击了按钮！</p>
      <div class="actions">
        <button id="modalOk">确定</button>
      </div>
    </div>
  </div>

  <noscript>
    <style>
      /* 当无 JS 时，显示一个提示 */
      .card{border:2px dashed #f59e0b}
    </style>
    <div style="max-width:720px;margin:1rem auto;padding:.75rem;background:#fff8e1;border-radius:8px;color:#92400e">
      当前浏览器未启用 JavaScript：按钮会回退到简单的 alert 行为。
    </div>
  </noscript>

  <script>
    (function(){
      const notifyBtn = document.getElementById('notifyBtn');
      const langBtn = document.getElementById('langBtn');
      const live = document.getElementById('live');
      const modalBackdrop = document.getElementById('modalBackdrop');
      const modalOk = document.getElementById('modalOk');
      const modalDesc = document.getElementById('modalDesc');
      const title = document.getElementById('title');
      const subtitle = document.getElementById('subtitle');

      // 文本资源（中/英）
      const TEXT = {
        zh: {
          title: '你好！这是我的第一个网页',
          subtitle: '我是用代码把它写出来的。',
          alert: '你点击了按钮！',
          modalTitle: '提示',
          ok: '确定',
          langLabel: 'EN'
        },
        en: {
          title: 'Hello — My First Webpage',
          subtitle: 'I wrote it using code.',
          alert: 'You clicked the button!',
          modalTitle: 'Notice',
          ok: 'OK',
          langLabel: '中'
        }
      };

      // 当前语言状态
      let lang = 'zh';

      function openModal(message){
        modalDesc.textContent = message;
        modalBackdrop.hidden = false;
        modalBackdrop.ariaHidden = 'false';
        modalBackdrop.removeAttribute('aria-hidden');
        // 将焦点移动到确定按钮以便键盘用户可以关闭
        modalOk.focus();
        // 记录到无障碍 live region
        live.textContent = message;
      }
      function closeModal(){
        modalBackdrop.hidden = true;
        modalBackdrop.setAttribute('aria-hidden','true');
        live.textContent = '';
        notifyBtn.focus();
      }

      // 点击按钮显示模态（替代 alert）
      notifyBtn.addEventListener('click', function(){
        openModal(TEXT[lang].alert);
      });

      // 模态确定按钮
      modalOk.addEventListener('click', closeModal);

      // 键盘：ESC 关闭模态
      document.addEventListener('keydown', function(e){
        if(e.key === 'Escape' && !modalBackdrop.hidden){
          closeModal();
        }
      });

      // 语言切换
      langBtn.addEventListener('click', function(){
        lang = (lang === 'zh') ? 'en' : 'zh';
        const t = TEXT[lang];
        title.textContent = t.title;
        subtitle.textContent = t.subtitle;
        modalOk.textContent = t.ok;
        modalDesc.textContent = t.alert; // 更新模态内容（如果打开）
        langBtn.textContent = t.langLabel;
        langBtn.setAttribute('aria-pressed', String(lang === 'en'));
        live.textContent = (lang === 'zh') ? '已切换到中文' : 'Switched to English';
        setTimeout(()=> live.textContent = '', 1200);
      });

      // 初始化按钮文本（支持 progressive enhancement）
      modalOk.textContent = TEXT[lang].ok;
      langBtn.textContent = TEXT[lang].langLabel;

      // 如果 JS 被禁用，页面中的按钮可以退回到内联 alert（在 HTML 中不做额外处理）
      // 额外：可检测 prefers-reduced-motion 等偏好
    })();
  </script>
</body>
</html>
